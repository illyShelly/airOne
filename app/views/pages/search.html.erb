<div class="container">
  <div id="main">
    <div id="left">
      <!-- SEARCH PANEL -->
      <div class="row">
        <br>
        <!-- colapseable part -->
        <div id="collapsePanel">

          <%= search_form_for @search, url: search_path do |f| %>

            <div class="row">
              <div class="col-md-8">
                <label>Price range:</label>
              </div>
              <div class="col-md-2">
                <label>Min Price:</label>
                <!-- using gem -> gteq greater than or equal -->
                <%= f.text_field :price_gteq, class: "form-control" %>
              </div>

              <div class="col-md-2">
                <label>Max Price:</label>
                <%= f.text_field :price_lteq, class: "form-control" %>
              </div>
            </div>
            <hr>

            <!-- check-in & check-out -->
            <div class="row">
              <div class="col-md-6">
                <%= text_field_tag :start_date, params[:start_date], readonly: true, placeholder: "Check-in", class: "form-control datepicker" %>
              </div>
               <div class="col-md-6">
                <%= text_field_tag :end_date, params[:end_date], readonly: true, placeholder: "Check-out", class: "form-control datepicker" %>
              </div>
            </div>
            <hr>

            <!-- checkbox Type of room -->
            <div class="row">
              <div class="col-md-4">
                <%= check_box_tag "q[room_type_eq_any []", "Entire" %> Entire Room
              </div>
               <div class="col-md-4">
                <%= check_box_tag "q[room_type_eq_any []", "Private" %> Private
              </div>
               <div class="col-md-4">
                <%= check_box_tag "q[room_type_eq_any []", "Shared" %> Shared
              </div>
            </div>
            <hr>

            <!-- from listing select tabs -->
            <div class="row">
              <div class="col-md-4">
                <div class="form-group select">
                  <label>Accomodate: </label>
                    <%= f.select :accommodate_gteq, [["1", 1], ["2", 2], ["3", 3], ["4", 4]], id:"accommodate", prompt: "Select...", class: "form-control" %>
                </div>
              </div>

              <div class="col-md-4 select">
                <div class="form-group">
                  <label>Bedrooms: </label>
                  <!-- name and value -->
                  <%= f.select :bed_room_gteq, [["1", 1], ["2", 2], ["3", 3], ["4+", 4]], id:"bed_room", prompt: "Select...", class: "form-control" %>
                </div>
              </div>

              <div class="col-md-4 select">
                <div class="form-group">
                  <label>Bathrooms: </label>
                  <!-- name and value -->
                  <%= f.select :bath_room_gteq, [["1", 1], ["2", 2], ["3", 3], ["4+", 4]], id:"bath_room", prompt: "Select...", class: "form-control" %>
                </div>
              </div>
            </div>
            <hr>

            <!-- checkbox input -->
            <div class="row">
              <div class="col-md-4">
                <%= check_box_tag "q[is_tv_eq]", true %> TV
              </div>
              <div class="col-md-4">
                <%= check_box_tag "q[is_kitchen_eq]", true %> Kitchen
              </div>
              <div class="col-md-4">
                <%= check_box_tag "q[is_internet_eq]", true %> Internet
              </div>
              <div class="col-md-4">
                <%= check_box_tag "q[is_heating_eq]", true %> Heating
              </div>
              <div class="col-md-4">
                <%= check_box_tag "q[is_air_eq]", true %> Aircondition
              </div>
            </div>
            <hr>

            <div class="row text-center">
              <%= f.submit "Search", class: "btn btn-publish" %>
            </div>
          <% end %>

        </div>
        <!-- end of collapsed part -->
        <br><br>


        <!-- display search results -->
        <div class="row">
          <% @arrRooms.each do |room| %>
            <div class="col-md-4">
              <div class="panel panel-default">
                <div>
                  <%= link_to room_path(room)do %>
                    <%= image_tag room.cover_photo(resize: '300x300>'), class: 'image-present' %>
                  <% end %>
                </div>
                <div class="panel-body">
                  <%= link_to room.listing_name, room %>
                </div>
              </div>
            </div>
          <% end %>
        </div>

      </div>
    </div>

    <div id="right">
  <!-- GOOGLE MAP  -->
    </div>
  </div>

</div>


<script>

  $('#start_date').datepicker({
    dateFormat: 'dd-mm-yy',
    minDate: 0,
    maxDate: '3m',
    onSelect: function(selected) {
      $('#end_date').datepicker("option", "minDate", selected);
      $('#end_date').attr("disabled", false);
    }
  });

  $('#end_date').datepicker({
    dateFormat: 'dd-mm-yy',
    minDate: 0,
    maxDate: '3m',
    onSelect: function(selected) {
      $('#start_date').datepicker("option", "maxDate", selected);
    }
  });
</script>
